@*Route*@
@page "/companies/create"

@*Getting HttpClient class*@
@inject HttpClient http

@*For redirecting purposes*@
@inject NavigationManager Navigation


<h3>AddCompany</h3>

<CompanyForm buttonText = "Add Company" company = "@company" OnValidSubmit = "@CreateCompany"></CompanyForm>

@code {

    CompanyEntity company = new CompanyEntity();

    CompanyEntity valCompany = new CompanyEntity();

    async Task CreateCompany()
    {
        //valCompany = await http.GetFromJsonAsync<CompanyEntity>($"api/company/{company.CompanyName}");

        await http.PostAsJsonAsync("api/company", company);
        Navigation.NavigateTo("/companies");
    }
}
